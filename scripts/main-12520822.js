"use strict";angular.module("spotifyViz",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ngMaterial","controllers.logout","controllers.home","controllers.splash","controllers.compute","controllers.vizualize","spotify","qAllSettled"]).config(["$stateProvider","$urlRouterProvider","$mdThemingProvider","SpotifyProvider",function(e,l,t,a){a.setClientId("835d8a553e434b99b9f2314d3fe6d90d"),a.setRedirectUri("https://reimertz.github.io/spotify-viz/callback.html"),a.setScope("playlist-read-private user-follow-read user-library-read"),t.theme("default").primaryPalette("red").accentPalette("yellow"),e.state("splash",{url:"/",templateUrl:"partials/splash.html",controller:"SplashCtrl",authenticate:!1}).state("main",{url:"/main",templateUrl:"partials/main.html",controller:"MainCtrl",authenticate:!0}).state("computeHack",{url:"/compute",templateUrl:"partials/compute.html",controller:"ComputeCtrl",authenticate:!0}).state("compute",{url:"/compute",templateUrl:"partials/compute.html",controller:"ComputeCtrl",params:{user:void 0,challenger:void 0},authenticate:!0}).state("vizualizeHack",{url:"/vizualize",templateUrl:"partials/vizualize.html",controller:"VizualizeCtrl",authenticate:!0}).state("vizualize",{url:"/vizualize",templateUrl:"partials/vizualize.html",controller:"VizualizeCtrl",params:{user:void 0,challenger:void 0},authenticate:!0}).state("logout",{url:"/logout",templateUrl:"partials/splash.html",controller:"LogoutCtrl",authenticate:!0}),l.otherwise("/")}]).run(["$state","$rootScope",function(e,l){l.$on("$stateChangeStart",function(l,t){!t.authenticate&&localStorage.userId?(l.preventDefault(),e.go("main")):t.authenticate&&!localStorage.userId&&(l.preventDefault(),e.go("splash"))}),function(){if(!document.getElementById("facebook-jssdk")){var e=document.getElementsByTagName("script")[0],l=document.createElement("script");l.id="facebook-jssdk",l.src="//connect.facebook.net/en_US/all.js",e.parentNode.insertBefore(l,e)}}()}]),angular.module("qAllSettled",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var l=e;return l.allSettled=function(e){return l.all(e.map(function(e){return e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}})}))},l}])}]),angular.module("controllers.home",[]).controller("MainCtrl",["$scope","$state","$q","$timeout","Spotify","$mdToast",function(e,l,t,a,r){function s(){r.setAuthToken(localStorage["spotify-token"]),r.getCurrentUser().then(function(l){console.log(l),e.user=l},function(){l.go("logout")})}e.invalidUser=!1,e.user={},e.challenger={},s(),e.checkUserId=function(t){r.getUser(t).then(function(a){e.challenger=a,r.userFollowingContains("user",t).then(function(t){e.challenger.IsFollowingUser=t,l.go("compute",{user:e.user,challenger:e.challenger})})},function(){e.invalidUser=!0})},e.logout=function(){l.go("logout")}}]),angular.module("controllers.logout",[]).controller("LogoutCtrl",["$state",function(e){localStorage.removeItem("userId"),localStorage.removeItem("spotify-token"),e.go("splash")}]),angular.module("controllers.splash",[]).controller("SplashCtrl",["$scope","Spotify","$state",function(e,l,t){e.login=function(){l.login().then(function(){l.getCurrentUser().then(function(e){localStorage.userId=e.id,t.go("main")})})}}]),angular.module("controllers.compute",[]).controller("ComputeCtrl",["$scope","$state","$stateParams","$q","$timeout","Spotify","$mdDialog",function(e,l,t,a,r,s,o){function i(e){var l=a.defer(),t=0;return e.forEach(function(a,r){a.tracks.items.map(function(e){t+=e.track.popularity}),e.length-1==r&&l.resolve(t)}),l.promise}function n(e){var l=[];return l.push(u(0).then(function(){return s.getUserPlaylists(e,{offset:0})})),l.push(u(200).then(function(){return s.getUserPlaylists(e,{offset:25})})),l.push(u(400).then(function(){return s.getUserPlaylists(e,{offset:50})})),l.push(u(600).then(function(){return s.getUserPlaylists(e,{offset:75})})),l.push(u(800).then(function(){return s.getUserPlaylists(e,{offset:100})})),l.push(u(1e3).then(function(){return s.getUserPlaylists(e,{offset:100})})),l.push(u(1200).then(function(){return s.getUserPlaylists(e,{offset:125})})),l.push(u(1400).then(function(){return s.getUserPlaylists(e,{offset:150})})),l.push(u(1800).then(function(){return s.getUserPlaylists(e,{offset:175})})),l.push(u(2e3).then(function(){return s.getUserPlaylists(e,{offset:200})})),a.allSettled(l).then(function(e){var l=[];return e.forEach(function(e){"fulfilled"===e.state&&(l=l.concat(e.value.items))}),l})}function c(e,l){var t=[],r=0,o=0,i=0,n=0,c=0,d=0,h=0;return l.forEach(function(l,a){l.owner.id==e?(r+=l.tracks.total,o+=l.collaborative?1:0,i+=l["public"]?1:0,t.push(u(100*a).then(function(){return s.getPlaylist(e,l.id)}))):(d+=1,h+=l.tracks.total)}),a.allSettled(t).then(function(l){var t=[];return l.forEach(function(l){"fulfilled"===l.state&&(t.push(l.value),l.value.owner.id==e?n+=l.value.followers.total:c+=l.value.followers.total)}),{playlists:t,totalSongs:r,totalCollaboratives:o,totalPublics:i,totalPlaylistFollowers:n,totalOtherPlaylistFollowers:c,totalOtherPlaylists:d,totalOtherSongs:h}})}function u(e){var l=a.defer();return r(l.resolve,e),l.promise}return t.user&&t.challenger?(e.user=t.user,e.challenger=t.challenger,e.user.playlists=[],e.challenger.playlists=[],e.status="Fetching Playlists..",e.showAlert=function(e){var t="user"==e?"It seems that you don't have any public playlists.. So you lost before it has even begun!":"It seems that your friend doesn't have any public playlists.. Try with someone else!",a=o.confirm({clickOutsideToClose:!1}).title("We couldn't find any playlists!").content(t).ariaLabel("Lucky day").ok("Got it!");o.show(a).then(function(){return l.go("main")})},a.all([n(e.user.id),n(e.challenger.id)]).then(function(t){var r=[];return e.user.playlists=t[0],e.challenger.playlists=t[1],0==e.user.playlists.length?e.showAlert("user"):0==e.challenger.playlists.length?e.showAlert("challenger"):(e.status="Analyzing Playlist data...",r.push(c(e.user.id,e.user.playlists)),r.push(c(e.challenger.id,e.challenger.playlists)),void a.all(r).then(function(t){e.status="Analyzing popularity data..",angular.extend(e.user,e.user,t[0]),angular.extend(e.challenger,e.challenger,t[1]),a.all([i(e.user.playlists),i(e.challenger.playlists)]).then(function(t){e.status="Finalizing data...",e.user.popularity=(t[0]/e.user.totalSongs).toFixed(2),e.challenger.popularity=(t[1]/e.challenger.totalSongs).toFixed(2),delete e.user.playlists,delete e.challenger.playlists,l.go("vizualize",{user:e.user,challenger:e.challenger})})}))}),void(e.cancel=function(){l.go("main")})):l.go("main")}]),angular.module("controllers.vizualize",[]).controller("VizualizeCtrl",["$scope","$state","$stateParams","$q","$timeout","Spotify","$mdToast",function(e,l,t){function a(){e.user.image=e.user.images[0]?e.user.images[0].url.replace("https://","//"):"../images/user.svg",e.challenger.image=e.challenger.images[0]?e.challenger.images[0].url.replace("https://","//"):"../images/challenger.svg"}function r(){e.user.popularity=parseInt(e.user.popularity),e.challenger.popularity=parseInt(e.challenger.popularity),e.hipsterClass=e.user.popularity<e.challenger.popularity?"user":"challenger",e.wonHipster=e[e.hipsterClass],e.wonHipsterName=e.wonHipster.name,e.lostHipster=e.wonHipster===e.user?e.challenger:e.user,e.lostHipsterName=e.lostHipster.name,e.wonHipster.wins+=1,e.userHipsterPercentage=e.user.popularity/(e.user.popularity+e.challenger.popularity)*100,e.challengerHipsterPercentage=e.challenger.popularity/(e.user.popularity+e.challenger.popularity)*100,e.userHipsterPercentage=g(e.userHipsterPercentage),e.challengerHipsterPercentage=g(e.challengerHipsterPercentage)}function s(){e.superstarClass=e.user.followers.total>e.challenger.followers.total?"user":"challenger",e.wonSuperstar=e[e.superstarClass],e.wonSuperstarName=e.wonSuperstar.name,e.lostSuperstar=e.wonSuperstar===e.user?e.challenger:e.user,e.lostSuperstarName=e.lostSuperstar.name,e.wonSuperstar.wins+=1,e.userSuperstarPercentage=e.user.followers.total/(e.user.followers.total+e.challenger.followers.total)*100,e.challengerSuperstarPercentage=e.challenger.followers.total/(e.user.followers.total+e.challenger.followers.total)*100,e.userSuperstarPercentage=e.user.followers.total/(e.user.followers.total+e.challenger.followers.total)*100,e.challengerSuperstarPercentage=e.challenger.followers.total/(e.user.followers.total+e.challenger.followers.total)*100,e.userSuperstarPercentage=g(e.userSuperstarPercentage),e.challengerSuperstarPercentage=g(e.challengerSuperstarPercentage)}function o(){e.giverClass=e.user.totalPublics>e.challenger.totalPublics?"user":"challenger",e.wonGiver=e[e.giverClass],e.wonGiverName=e.wonGiver.name,e.lostGiver=e.wonGiver===e.user?e.challenger:e.user,e.lostGiverName=e.lostGiver.name,e.wonGiver.wins+=1,e.userGiverPercentage=e.user.totalPublics/(e.user.totalPublics+e.challenger.totalPublics)*100,e.challengerGiverPercentage=e.challenger.totalPublics/(e.user.totalPublics+e.challenger.totalPublics)*100,e.userGiverPercentage=g(e.userGiverPercentage),e.challengerGiverPercentage=g(e.challengerGiverPercentage)}function i(){e.collaboratorClass=e.user.totalCollaboratives>e.challenger.totalCollaboratives?"user":"challenger",e.wonCollaborator=e[e.collaboratorClass],e.wonCollaboratorName=e.wonCollaborator.name||!1,e.lostCollaborator=e.wonCollaborator===e.user?e.challenger:e.user,e.lostCollaboratorName=e.lostCollaborator.name,e.wonCollaborator.wins+=1,e.userCollaboratorPercentage=e.user.totalCollaboratives/(e.user.totalCollaboratives+e.challenger.totalCollaboratives)*100,e.challengerCollaboratorPercentage=e.challenger.totalCollaboratives/(e.user.totalCollaboratives+e.challenger.totalCollaboratives)*100,e.userCollaboratorPercentage=g(e.userCollaboratorPercentage),e.challengerCollaboratorPercentage=g(e.challengerCollaboratorPercentage)}function n(){e.hoarderClass=e.user.totalSongs>e.challenger.totalSongs?"user":"challenger",e.wonHoarder=e[e.hoarderClass],e.wonHoarderName=e.wonHoarder.name,e.lostHoarder=e.wonHoarder===e.user?e.challenger:e.user,e.lostHoarderName=e.lostHoarder.name,e.wonHoarder.wins+=1,e.userHoarderPercentage=e.user.totalSongs/(e.user.totalSongs+e.challenger.totalSongs)*100,e.challengerHoarderPercentage=e.challenger.totalSongs/(e.user.totalSongs+e.challenger.totalSongs)*100,e.userHoarderPercentage=g(e.userHoarderPercentage),e.challengerHoarderPercentage=g(e.challengerHoarderPercentage)}function c(){e.trendsetterClass=e.user.totalPlaylistFollowers>e.challenger.totalPlaylistFollowers?"user":"challenger",e.wonTrendsetter=e[e.trendsetterClass],e.wonTrendsetterName=e.wonTrendsetter.name,e.lostTrendsetter=e.wonTrendsetter===e.user?e.challenger:e.user,e.lostTrendsetterName=e.lostTrendsetter.name,e.wonTrendsetter.wins+=1,e.userTrendsetterPercentage=e.user.totalPlaylistFollowers/(e.user.totalPlaylistFollowers+e.challenger.totalPlaylistFollowers)*100,e.challengerTrendsetterPercentage=e.challenger.totalPlaylistFollowers/(e.user.totalPlaylistFollowers+e.challenger.totalPlaylistFollowers)*100,e.userTrendsetterPercentage=g(e.userTrendsetterPercentage),e.challengerTrendsetterPercentage=g(e.challengerTrendsetterPercentage)}function u(){e.copycatClass=e.user.totalOtherPlaylistFollowers<e.challenger.totalOtherPlaylistFollowers?"user":"challenger",e.wonCopycat=e[e.copycatClass],e.wonCopycatName=e.wonCopycat.name,e.lostCopycat=e.wonCopycat===e.user?e.challenger:e.user,e.lostCopycatName=e.lostCopycat.name,e.wonCopycat.wins+=1,e.userCopycatPercentage=e.user.totalOtherPlaylists/(e.user.totalOtherPlaylists+e.challenger.totalOtherPlaylists)*100,e.challengerCopycatPercentage=e.challenger.totalOtherPlaylists/(e.user.totalOtherPlaylists+e.challenger.totalOtherPlaylists)*100,e.userCopycatPercentage=g(e.userCopycatPercentage),e.challengerCopycatPercentage=g(e.challengerCopycatPercentage)}function d(){e.summaryClass=e.user.wins>e.challenger.wins?"user":"challenger",e.wonSummary=e[e.summaryClass]}function g(e){return e%5>=2.5?e-e%5+5:e-e%5}if(!t.user||!t.challenger)return l.go("main");e.user=t.user,e.challenger=t.challenger,console.log(e.user),console.log(e.challenger),e.user.wins=0,e.challenger.wins=0,e.user.name=e.user.display_name||e.user.id,e.challenger.name=e.challenger.display_name||e.challenger.id,e.hide=!1,a(),r(),s(),o(),i(),n(),c(),u(),d(),e.again=function(){l.go("main")};var v,m,f,y,p,x,P,b,C,S,H,T;f=350,v=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],y=2*Math.PI,p=document.getElementById("world"),P=p.getContext("2d"),window.w=0,window.h=0,H=function(){return window.w=p.width=window.innerWidth,window.h=p.height=window.innerHeight},window.addEventListener("resize",H,!1),window.onload=function(){return setTimeout(H,0)},S=function(e,l){return(l-e)*Math.random()+e},b=function(e,l,t,a){return P.beginPath(),P.arc(e,l,t,0,y,!1),P.fillStyle=a,P.fill()},T=.5,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),m=function(){function e(){this.style=v[~~S(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~S(2,6),this.r2=2*this.r,this.replace()}return e.prototype.replace=function(){return this.opacity=0,this.dop=.03*S(1,4),this.x=S(-this.r2,w-this.r2),this.y=S(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=S(0,2)+8*T-5,this.vy=.7*this.r+S(-1,1)},e.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),b(~~this.x,~~this.y,this.r,""+this.rgb+","+this.opacity+")")},e}(),x=function(){var e,l;for(l=[],C=e=1;f>=1?f>=e:e>=f;C=f>=1?++e:--e)l.push(new m);return l}(),window.step=function(){var e,l,t,a;for(requestAnimationFrame(step),P.clearRect(0,0,w,h),a=[],l=0,t=x.length;t>l;l++)e=x[l],a.push(e.draw());return a},step(),H()}])(function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/compute.html",'<div layout="column" class="compute-view"><div layout="column" class="swosh" layout-align="center center" flex="80"><h1>Calculating all the magic..</h1><md-progress-circular class="md-hue-8" md-mode="indeterminate"></md-progress-circular><h3>{{status}}</h3></div><div layout="column" layout-align="end center" flex="10"><md-button class="md-raised md-primary" ng-click="cancel()">Cancel</md-button></div></div>')}])})(),function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/logout.html",'<div layout="column" class="splash-view"><md-toolbar layout="row"><h1>Spotify Working Title App</h1></md-toolbar></div>')}])}(),function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/main-old.html",'<div layout="column" class="menu-view"><md-toolbar layout="row"><button ng-click="toggleSidenav(\'left\')" hide-gt-sm="" class="menuBtn"><span class="visuallyhidden">Menu</span></button><h1>AngularJS Material App</h1></md-toolbar><div layout="row" flex=""><md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$media(\'gt-sm\')"><md-list><md-item ng-repeat="it in avatars"><md-item-content><md-button ng-click="selectAvatar(it)" ng-class="{\'selected\' : it === selected }"><span class="{{it.classname}} avatar"></span> {{it.name}}</md-button></md-item-content></md-item></md-list></md-sidenav><md-content layout="column" flex="" class="content-wrapper md-padding" id="content"><span class="{{selected.classname}}" ng-class="{avatar:selected}" role="img" aria-label="{{selected.name}}"></span><h2>{{selected.name}}</h2><p>{{selected.content}}</p><md-button class="action actionBtn" ng-click="showActions($event)"><span class="visuallyhidden">Actions</span></md-button></md-content></div></div>')}])}(),function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/main.html",'<div layout="column" class="main-view"><md-toolbar layout="row"><h1>Hi {{user.display_name}}</h1></md-toolbar><div layout="column" class="swosh" layout-align="center center" flex="40"><h2>Enter the Spotify Id of your person you want to challenge</h2><form name="userIdForm"><div layout"column"=""><md-input-container class="md-accent" md-is-error="invalidUser" ng-click="userId=\'\'; invalidUser=false;"><label>User Id</label> <input ng-model="userId"><div ng-messages="userForm.bio.$error" ng-show="invalidUser"><div ng-message="invalidUser">User Id is non existing</div></div></md-input-container></div></form><md-button class="md-raised md-primary" ng-click="checkUserId(userId)">Let\'s do it!</md-button></div><div layout="column" layout-align="end center" flex="50"><md-button class="md-raised md-primary" ng-click="logout()">logout</md-button></div></div>')}])}(),function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/splash.html",'<div layout="column" class="splash-view"><md-toolbar layout="row"><h1>Spotify Working Title App</h1></md-toolbar><div layout="row" class="swosh" layout-align="center center" flex="30"><ul ng-switch="" on="currentMessage%4"><li class="animate-switch" ng-switch-when="0"><h1>Who are The Hipster?</h1></li><li class="animate-switch" ng-switch-when="1"><h1>Who is The Superstar?</h1></li><li class="animate-switch" ng-switch-when="2"><h1>Who is The Giver?</h1></li><li class="animate-switch" ng-switch-when="3"><h1>Who is The Collaborator?</h1></li><li class="animate-switch" ng-switch-when="3"><h1>Who is The Hoarder?</h1></li><li class="animate-switch" ng-switch-when="3"><h1>Who is The Trendsetter?</h1></li><li class="animate-switch" ng-switch-when="3"><h1>Who is The Copy Cat?</h1></li></ul></div><div layout="column" class="swosh" layout-align="center center" flex="20"><h1>Login with your Spotify profile to find out!</h1><md-button class="md-raised md-primary" ng-click="login()">Login to Spotify</md-button></div><div layout="row" class="swosh" layout-align="center center" flex="20"></div></div>')}])}(),function(e){try{e=angular.module("spotifyViz")}catch(l){e=angular.module("spotifyViz",[])}e.run(["$templateCache",function(e){e.put("partials/vizualize.html",'<div layout="column" class="vizualize-view"><div class="ready" layout="column" layout-align="center center" flex="50"><h1>Are you Ready?</h1></div><div class="images" layout="row" layout-align="center center" flex="30"><div flex="40"><img class="swosh" ng-src="{{user.image}}"></div><div flex="20"><h1>VS.</h1></div><div flex="40"><img class="swosh" ng-src="{{challenger.image}}"></div></div><div class="images" layout="row" layout-align="center center" flex="20"><div flex="40"><h1>{{user.display_name || user.id}}</h1></div><div flex="20"></div><div flex="40"><h1>{{challenger.display_name || challenger.id}}</h1></div></div><div class="hipster" layout="column" flex="5"></div><div class="hipster" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonHipster.image}}"></div><div class="hipster" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonHipsterName">{{wonHipsterName}} is the The Hipster</h1><h1 ng-if="!wonHipsterName">"It\'s a draw!"</h1></div><div class="hipster" layout="column" layout-align="start center" flex="10"><h3><i>"a person who follows the latest trends and fashions, especially those regarded as being outside the cultural mainstream."</i></h3></div><div class="hipster" layout="column" flex="15"></div><div layout="row" class="hipster {{hipsterClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerHipsterPercentage}}" class="rest"></div><div flex="{{userHipsterPercentage}}" class="left-bar"><h1>{{user.popularity}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerHipsterPercentage}}" class="right-bar"><h1>{{challenger.popularity}}</h1></div><div flex="{{userHipsterPercentage}}" class="rest"></div></div></div><div class="hipster" layout="column" layout-align="start center" flex="20"><h4>{{wonHipsterName}} had the average of {{wonHipster.popularity}} and beat {{lostHipsterName}} who had an average of {{lostHipster.popularity}}.</h4></div><div class="superstar" layout="column" flex="5"></div><div class="superstar" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonSuperstar.image}}"></div><div class="superstar" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonSuperstarName">{{wonSuperstarName}} is the The Superstar</h1><h1 ng-if="!wonSuperstarName">"It\'s a draw!"</h1></div><div class="superstar" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="superstar" layout="column" flex="15"></div><div layout="row" class="superstar {{superstarClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerSuperstarPercentage}}" class="rest"></div><div flex="{{userSuperstarPercentage}}" class="left-bar"><h1>{{user.followers.total}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerSuperstarPercentage}}" class="right-bar"><h1>{{challenger.followers.total}}</h1></div><div flex="{{userSuperstarPercentage}}" class="rest"></div></div></div><div class="superstar" layout="column" layout-align="start center" flex="20"><h4>{{wonSuperstarName}} had {{wonSuperstar.followers.total - lostSuperstar.followers.total}} more followers than {{lostSuperstarName}}</h4></div><div class="giver" layout="column" flex="5"></div><div class="giver" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonGiver.image}}"></div><div class="giver" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonGiverName">{{wonGiverName}} is the The Giver</h1><h1 ng-if="!wonGiverName">"It\'s a draw!"</h1></div><div class="giver" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="giver" layout="column" flex="15"></div><div layout="row" class="giver {{giverClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerGiverPercentage}}" class="rest"></div><div flex="{{userGiverPercentage}}" class="left-bar"><h1>{{user.totalPublics}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerGiverPercentage}}" class="right-bar"><h1>{{challenger.totalPublics}}</h1></div><div flex="{{userGiverPercentage}}" class="rest"></div></div></div><div class="giver" layout="column" layout-align="start center" flex="20"><h4>{{wonGiverName}} have {{wonGiver.totalPublics - lostGiver.totalPublics}} more public playlists than {{lostGiverName}} and could be considered a genorous person!</h4></div><div class="collaborator" layout="column" flex="5"></div><div class="collaborator" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonCollaborator.image}}"></div><div class="collaborator" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonCollaboratorName">{{wonCollaboratorName}} is the The Collaborator</h1><h1 ng-if="!wonCollaboratorName">It\'s a draw!</h1></div><div class="collaborator" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="collaborator" layout="column" flex="15"></div><div layout="row" class="collaborator {{collaboratorClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challenger.CollaboratorPercentage}}" class="rest"></div><div flex="{{user.CollaboratorPercentage}}" class="left-bar"><h1>{{user.totalCollaboratives}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challenger.CollaboratorPercentage}}" class="right-bar"><h1>{{challenger.totalCollaboratives}}</h1></div><div flex="{{user.CollaboratorPercentage}}" class="rest"></div></div></div><div class="collaborator" layout="column" layout-align="start center" flex="20"><h4>{{wonCollaboratorName}} have {{wonCollaborator.totalCollaboratives - lostCollaborator.totalCollaboratives}} more Collaborative playlists {{lostCollaboratorName}} and could be considered a co-working person!</h4></div><div class="hoarder" layout="column" flex="5"></div><div class="hoarder" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonHoarder.image}}"></div><div class="hoarder" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonHoarderName">{{wonHoarderName}} is the The Hoarder</h1><h1 ng-if="!wonHoarderName">"It\'s a draw!"</h1></div><div class="hoarder" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="hoarder" layout="column" flex="15"></div><div layout="row" class="hoarder {{hoarderClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerHoarderPercentage}}" class="rest"></div><div flex="{{userHoarderPercentage}}" class="left-bar"><h1>{{user.totalSongs}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerHoarderPercentage}}" class="right-bar"><h1>{{challenger.totalSongs}}</h1></div><div flex="{{userHoarderPercentage}}" class="rest"></div></div></div><div class="hoarder" layout="column" layout-align="start center" flex="20"><h4>{{wonHoarderName}} have collected {{wonHoarder.totalSongs}} songs over the years..</h4></div><div class="trendsetter" layout="column" flex="5"></div><div class="trendsetter" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonTrendsetter.image}}"></div><div class="trendsetter" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonTrendsetterName">{{wonTrendsetterName}} is the The Trendsetter</h1><h1 ng-if="!wonTrendsetterName">"It\'s a draw!"</h1></div><div class="trendsetter" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="trendsetter" layout="column" flex="15"></div><div layout="row" class="trendsetter {{trendsetterClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerTrendsetterPercentage}}" class="rest"></div><div flex="{{userTrendsetterPercentage}}" class="left-bar"><h1>{{user.totalPlaylistFollowers}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerTrendsetterPercentage}}" class="right-bar"><h1>{{challenger.totalPlaylistFollowers}}</h1></div><div flex="{{userTrendsetterPercentage}}" class="rest"></div></div></div><div class="trendsetter" layout="column" layout-align="start center" flex="20"><h4>{{wonTrendsetterName}} have a total of {{wonTrendsetter.totalPlaylistFollowers}} followers in his/her playlists. Wow!</h4></div><div class="copycat" layout="column" flex="5"></div><div class="copycat" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonCopycat.image}}"></div><div class="copycat" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonCopycatName">{{wonCopycatName}} is the The Copycat</h1><h1 ng-if="!wonCopycatName">"It\'s a draw!"</h1></div><div class="copycat" layout="column" layout-align="start center" flex="10"><h3><i>""</i></h3></div><div class="copycat" layout="column" flex="15"></div><div layout="row" class="copycat {{copycatClass}}-won" flex="15"><div layout="row" flex="50" class="user"><div flex="{{challengerCopycatPercentage}}" class="rest"></div><div flex="{{userCopycatPercentage}}" class="left-bar"><h1>{{user.totalOtherPlaylists}}</h1></div></div><div layout="row" flex="50" class="challenger"><div flex="{{challengerCopycatPercentage}}" class="right-bar"><h1>{{challenger.totalOtherPlaylists}}</h1></div><div flex="{{userCopycatPercentage}}" class="rest"></div></div></div><div class="copycat" layout="column" layout-align="start center" flex="20"><h4>{{wonCopycatName}} are following {{wonCopycat.totalOtherPlaylists}} playlists with a total of {{wonCopycat.totalOtherSongs}} songs. What a Copycat!</h4></div><canvas id="world"></canvas><div class="summary" layout="column" flex="5"></div><div class="summary" layout="column" layout-align="center center" flex="25"><img class="swosh" ng-src="{{wonSummary.image || challenger.image}}"></div><div class="summary" layout="column" layout-align="start center" flex="10"><h1 ng-if="wonSummary">{{wonSummary.name}} is the Winner!</h1><h1 ng-if="!wonSummary">"It\'s a draw!"</h1></div><div layout="row" class="hipster summary {{hipsterClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerHipsterPercentage}}" class="rest"></div><div flex="{{userHipsterPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerHipsterPercentage}}" class="won"></div><div flex="{{userHipsterPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="superstar summary {{superstarClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerSuperstarPercentage}}" class="rest"></div><div flex="{{userSuperstarPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerSuperstarPercentage}}" class="right-bar"></div><div flex="{{userSuperstarPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="giver summary {{giverClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerGiverPercentage}}" class="rest"></div><div flex="{{userGiverPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerGiverPercentage}}" class="right-bar"></div><div flex="{{userGiverPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="collaborator summary {{collaboratorClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challenger.CollaboratorPercentage}}" class="rest"></div><div flex="{{user.CollaboratorPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challenger.CollaboratorPercentage}}" class="right-bar"></div><div flex="{{user.CollaboratorPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="hoarder summary {{hoarderClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerHoarderPercentage}}" class="rest"></div><div flex="{{userHoarderPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerHoarderPercentage}}" class="right-bar"></div><div flex="{{userHoarderPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="trendsetter summary {{trendsetterClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerTrendsetterPercentage}}" class="rest"></div><div flex="{{userTrendsetterPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerTrendsetterPercentage}}" class="right-bar"></div><div flex="{{userTrendsetterPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div layout="row" class="copycat summary {{copycatClass}}-won" flex="5"><div layout="row" flex="25"></div><div layout="row" flex="25" class="user"><div flex="{{challengerCopycatPercentage}}" class="rest"></div><div flex="{{userCopycatPercentage}}" class="left-bar"></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerCopycatPercentage}}" class="right-bar"></div><div flex="{{userCopycatPercentage}}" class="rest"></div></div><div layout="row" flex="25"></div></div><div class="summary" layout="row" flex="5"><div layout="row" flex="25" class="user"><div flex="{{challengerSummaryPercentage}}" class="rest"></div><div flex="{{userSummaryPercentage}}" class="won"><h1>{{user.totalOtherPlaylists}}</h1></div></div><div layout="row" flex="25" class="challenger"><div flex="{{challengerSummaryPercentage}}" class="won"><h1>{{challenger.totalOtherPlaylists}}</h1></div><div flex="{{userSummaryPercentage}}" class="rest"></div></div></div><div class="summary" layout="column" layout-align="start center" flex="20"><h4>{{wonSummary.name}} won in {{wonSummary.wins}} categories and are therefore the allmighty winner!</h4></div><div class="share" layout="column" layout-align="center center" flex="40"><h1>Want to Challange another friend ?</h1><md-button class="md-raised md-primary" ng-click="again()">Let\'s do it!</md-button></div></div>')
}])}();